<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../oak-i18n-behavior/oak-i18n-behavior.html">
<link rel="import" href="../wc-i18n/wc-i18n.html">
<link rel="import" href="../cedar-dialog/cedar-dialog.html">
<link rel="import" href="../birch-message/birch-message.html">
<link rel="import" href="../fs-button/fs-button.html">
<link rel="import" href="../fs-styles/fs-styles.html">

<!--
A FamilySearch element providing a dialog for viewing a contributor's contact information.

Example:

    <birch-contact-card></birch-contact-card>

Example:

    <birch-contact-card>
      <h2>Hello birch-contact-card</h2>
    </birch-contact-card>

@demo demo/index.html
@hero hero.svg
-->

<dom-module id="birch-contact-card">
  <style include='fs-styles'></style>
  <link rel="import" type="css" href="birch-contact-card.css">
  <template>
    <wc-i18n-src locale='[[lang]]' locale-dir='[[localeDir()]]' domain='birch-contact-card'></wc-i18n-src>
    <birch-message id="message"></birch-message>
    <cedar-dialog id="dialogBox" horizontal-align="right" position-target="[[positionTarget]]" arrow>
      <h4 class="heading" header>[[data.contactName]]</h4>
      <div id="innerDialog" class="body" content>
        <div class="line-1">
          <div class="left-col">
            <p class="name-heading"><small>Full Name</small></p>
          </div>
          <div class="right-col">
            <span class="name">[[data.fullName]]</span>
          </div>
        </div>
        <div class="line-2">
          <div class="left-col">
            <p class="name-heading"><small><wc-i18n key='birch-contact-card.contact_name_label'></wc-i18n></small></p>
          </div>
          <div class="right-col">
            <span class="name">[[data.contactName]]</span>
          </div>
        </div>
        <div class="line-3">
          <div class="left-col">
            <p class="name-heading"><small><wc-i18n key='birch-contact-card.email_address_label'></wc-i18n></small></p>
          </div>
          <div class="right-col">
            <span class="name"><a href$="mailto:{{data.email}}">[[data.email]]</a></span>
          </div>
        </div>   
        <div class="line-4">
          <div class="left-col">
            <p class="name-heading"><small><wc-i18n key='birch-contact-card.phone_number_label'></wc-i18n></small></p>
          </div>
          <div class="right-col">
            <span class="name">[[data.phoneNumber]]</small></span>
          </div>
        </div>
        <div class="line-5">
          <div class="left-col">
            <p class="name-heading"><small><wc-i18n key='birch-contact-card.mailing_address_label'></wc-i18n></small></p>
          </div>
          <div class="right-col">
            <p id="address" class="name">{{data.mailingAddress}}</p>
          </div>
        </div>
        <div class="send-button">
          <button is='fs-button' type="button" option="minor" class="message-button" on-tap="_showSendMessage"><wc-i18n key='birch-contact-card.send_message'></wc-i18n></button>
        </div>   
      </div>
    </cedar-dialog>
  </template>

  <script>
    Polymer({
      is: 'birch-contact-card',

      behaviors: [
        OakI18nBehavior,
        WCI18nBehavior
      ],

      properties: {
        data: {
          type: Object,
          value: function() { return {}; }
        },
        positionTarget: {
          type: Object
        }
      },
      open: function(e) {
        this.$.dialogBox.open(e);
      },

      close: function() {
        this.$.dialogBox.close();
      },
      _showSendMessage:function() {
        this.$.message.show();
      }

    });
  </script>
</dom-module>
